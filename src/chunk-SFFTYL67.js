import{c as l}from"./chunk-TFW3BQFA.js";l();var d=class{routes=[];constructor(n){this.routes=n,window.addEventListener("popstate",this.handlePopState.bind(this)),this.handlePopState()}handlePopState(){let n=window.location.pathname,i=this.findMatchingRoute(n,this.routes);if(i){let e=document.createElement("div");if(i.element(e),i.children){let t=n.slice(i.path.length),r=e.querySelector("#child");r&&this.renderChildren(i.children,t,r)}}else{let e=this.findMatchingRoute("*",this.routes);if(e){let t=document.createElement("div");e.element(t)}}}renderChildren(n,i,e){let t=this.findMatchingRoute(i,n);if(t){let r=document.createElement("div");if(t.element(r),e.appendChild(r),t.children){let a=i.slice(t.path.length);this.renderChildren(t.children,a,r)}}}findMatchingRoute(n,i){for(let e of i){let t=e.path;if(t==="*")return e;{let a=[],u=t.replace(/:[^\s/]+/g,o=>(a.push(o.substring(1)),"([^\\s/]+)")),g=new RegExp(`^${u}(?:/|$)`),c=n.match(g);if(c){let o={};if(a.forEach((h,s)=>{o[h]=c[s+1]}),e.children){let h=n.slice(c[0].length),s=this.findMatchingRoute(h,e.children);if(s)return s.params=o,s}return{...e,params:o}}}}}navigate(n){history.pushState(null,"",n),this.handlePopState()}};export{d as a};
